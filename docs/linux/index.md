### 0.Commands ###

```sh

```

### 1.Users ###

```sh
whoami - 告知用户的名称
who - 告知谁登录了系统
who am i - 显示指向当前会话的行？
w - 显示登陆者及其操作
id

su:
	- <用户名> - 以其他用户身份运行 shell
	- -<用户名> - 切换为其他用户，并且单前目录为$HOME
用户管理::
	- useradd
		- -m -d <用户主目录> -c "<描述>" <用户名> - 添加用户 (/etc/skel的所有文件被复制到新的用户主目录)
		- -D - 显示 /etc/default/useradd
	- userdel
		- -r <用户名> - 删除用户
	- usermod
		- -c '<新用户名>' <旧用户名> - 修改用户名
		- -s '<新shell>' <用户名> - 修改用户的shell
		- -L <用户名> - 禁用/锁定/挂起 用户密码 (/etc/shadow 的加密密码首个字符为 `!` 表示此密码被锁定)
		- -U <用户名> - 解禁 用户密码
	- chsh
		- 无参 - 修改当前用户的登录shell
		- -s <新shell> - 修改当前用户的登录shell
密码:
	- passwd [<用户名>] - 修改当前用户密码
	- openssel passwd - 
	- chage -l <用户名> - 查看指定用户名的有关信息
本地组:
	- groupadd <组名> - 添加一个组
	- groups [<用户名>] - 查看指定用户所属的组
	- usermod -aG <组名> <用户名> - 将用户加入用户组
	- groupmod -n <旧组名> <新组名> - 修改组名
	- groupdel <组名> - 删除组
	- gpasswd -A <用户名> <组名> - 将组成员身份的控制权传递给其他同组用户
	- gpasswd -A "" <组名> - 从组中删除所有管理员
```

```sh title="配置文件"
/etc/skel
/etc/default/useradd
{==/etc/passwd==} - 有7列 (用户名, x, 用户标识uid, 主组gid, 描述, 主目录名称, 登录shell)
{==/etc/shadow==} - 有9列 (用户名, 加密密码, 上次更改密码日期, 密码必须保持不变的天数, 密码到期日, 密码到期前的警告天数, 到期后禁用帐户的天数以及帐户被禁用的天数, 额外的一列) (最后一列没有意义)
/etc/login.defs - 包含一些默认设置，如密码时效和长度设置

{==/etc/group==} - 有4列 (组名称, 加密密码, 组标识gid, 成员列表)
```

### 2.Directories ###

```sh title="文件"
pwd:
	- 无参 - 显示当前工作目录
	- -L - 显示当前工作目录的逻辑路径以及符号链接的名称（如果有）。例如，如果存在于 dir /home/symlinked 中，则它是指向 /home/realdir 的符号链接;它将显示 /home/symlinked
	- -P - 用于显示当前工作目录的物理路径，而不显示符号链接的名称（如果有）。例如，如果存在于 dir /home/symlinked 中，则它是指向 /home/realdir 的符号链接;它将显示 /home/realdir
ls::
	- -a - 使隐藏文件可见
	- -l - 以长列表格式显示列表
cd:
	- ~ - 主目录
	- ~<用户名> - 指定用户主目录
	- . - 当前目录
	- .. - 父目录
	- - - 上一目录
	- / - 根目录
	- "<路径名>" - 路径名可带空格 (也可以用\转义空格)
	- 
mkdir:
	- -p - 创建指定目录及其各个上级文件夹
	- -v - 每创建一个目录打印一条消息
	- -m - 为新目录设置权限 (不会减去 umask)
rmdir:
	- -p - 删除指定目录及其各个上级文件夹
```

!!! tip
	- /开头的目录为 绝对目录，反之为 相对目录
	- `tab`键可实现 "目录完成"
	- 



### 3.Files ###
- File

```sh title="文件类型"
常规文件 (-): 包含 文本文件，程序，可执行文件
目录文件 (d): 包含文件列表；显示为蓝色
特殊文件:
    - 块文件 (b)
    - 字符设备文件 (c)
    - 命名管道文件 (p)
    - 符号链接文件 (l)
    - 套接字文件 (s)
```

```sh title="文件系统"
Ext, Ext2, Ext3 and Ext4
JFS
ReiserFS
XFS
Btrfs
Swap
```

```sh
file:
	- -s - 用于特殊文件？
touch:
	- -a
	- -m
	- -r
	- -t
	- -c - 若文件不存在，则不创建文件
rm: 删除文件或目录(不可逆)
	- -r或-R - 递归删除
	- -i - 交互方式删除文件
	- -rf - 强制删除目录
cp:
	- -r - 递归复制目录
	- -i - 要求确认
	- -L - 
	- -p - 
	- ...
mv:
	- -i - 	请求覆盖写入的权限
	- --fsuffix - 
	- -u - 
rename:
	- 如：rename 's/<模式串>/<替换串>/' <文件名>   # (显然可实现大量文件重命名)
	- -n - 在运行之前检查更改
	- -f - 强制覆盖现有文件
	- -v - 打印输出

创建文件:
	- cat > 
	- touch
	- 重定向>
	- echo
	- printf
```

- File Contents

```sh title="文件内容"
head
tail
cat
tac
more
less
```

- File Hierarchy

```sh title="文件层次结构"
man hier - 查询文件层次结构FHS 有关信息
二进制目录 - 包含二进制或编译的源代码文件 (- File Security)
	- bin/ - 包含用户二进制文件、可执行文件、在单用户模式下使用的 Linux 命令以及所有用户使用的常用命令
		- cat, cp, cd, ls, touch ...
	- sbin/ - 包含可执行文件, 但仅包含需要root权限才能执行某些任务的系统二进制文件
		- fsck, root, init, ifconfig ...
	- lib/ - 包含 /bin 和 /sbin 目录经常使用的共享库, 还包含内核模块 ( ld* 或 lib*.so.* )
	- opt/ - 存储可选的{==应用程序软件包==}
配置目录 - 包含系统的配置文件，例如 /etc、/boot
	- boot/ - 包含引导加载程序文件，这些文件对于引导系统至关重要 (它们只包含基本 Linux 系统启动和运行所需的文件)
		- grub/ ...
	- etc/ - (Etcetera)包含所有与机器相关的配置文件, 所有文件都是静态的和基于文本的，不能在此目录中放置任何二进制文件, {==配置文件的扩展名为 .conf==}
		- init.d/ - 包含用于 控制系统 或 启动和停止守护程序(后台程序) 的脚本 (init是守护进程，它持续运行，直到系统关闭)
		- X11/ - X Window 系统配置文件存储在此目录中, 图形显示(xorg.conf)的配置文件也存储在这里
		- skel/ - (skeleton)  系统中的所有内容都有一个称为隐藏文件的骨架，并存储在此目录中
数据目录 - 存储数据文件
	- home/ - 
	- root/
	- srv/
	- media/
	- mnt/
	- tmp/
内存目录 - 存储不占用实际硬盘空间的设备文件
	- dev/
	- proc/
	- sys/
Usr (Unix System Resources) - 包含可共享的只读数据
	- bin/
	- include/
	- lib/
	- share/
	- local/
	- src/
var (变量目录) - 包含较大大小的数据
	- log/
	- cache/
	- spool/
	- lib/
非标准目录 - 不属于标准 FHS 的目录，例如，lost+found、/run 等
	- cdrom/
	- run/
	- lost+found/
```

- File Security

```sh title="文件安全"
chown <新用户名> <文件名> - 更改文件的 用户所有者
chgrp <新组名> <文件名> - 更改文件的 组所有者 (组所有者所包含的用户拥有组权限)
chmod <[augo ][+-=][rwx]或[0-7]{3}> 文件
umask
mkdir -m <[0-7]{3}> <目录名> - 创建目录, 并设置权限
cp -p - 保留源文件中的权限和时间戳

chmod +[tsX] <文件名> - 为文件添加高级权限(sticky, setgid, setuid)

ln [-s] <文件名> <链接> - 创建 硬链接 或 软链接(-s)
```

### 4.Process ###

```sh
top - {==动态==}列出所有正在运行的进程，它显示详细信息
ps aux - 显示进程信息
pidof <进程名> - 显示进程的pid
killall <-SIGKILL | -9 | -SIGTERM | -o | -y> <进程名> - 杀死进程 (后两个选项: 筛选运行时长 超过 或 小于 x分钟的进程)
pkill <选项> <模式串> - 通过匹配子串杀死有关的多个进程
kill <选项> <pid>
```

### 5.Filters ###

```sh
cat - 将输入保存为文件 (输入可以是 管道 或 标准输入 或 文件)
cut -d<列分隔符> -f<列号> - 将多行输入按列分隔符划分, 并取其中一列 (下标从1开始)
grep - 将多行输入进行过滤
comm - 
sed 's/<模式串>/<替换的串>/' - 将多行输入的所有匹配的行进行替换
tee - 将输入 输出到stdout和文件中
tr - 
uniq - 排序并去重
wc - 计算单词数, 行数, 字符数
od - 以不同形式(8进制/16进制/ascii)显示文件
sort - 排序
gzip - 
```

### 6.I/O ###

```sh
> - 标准输出
< - 标准输入
2> - 标准错误

>> - 标准输出
<< - 标准输入
2>> - 标准错误
```

!!! tip
	- 命令 > 文件
	- 命令 < 文件
	- 命令 | 命令

### 7.Networking ###

```sh
ifconfig - 显示或操作路由和网络接口
ip - 它是 ifconfig命令 的替代品
traceroute - 网络故障排除实用程序
tracepath - 类似于 traceroute，但不需要权限
ping - 检查两个节点之间的连接
netstat - 显示连接信息
ss - 它是 netstat 的替代品
dig - 查询 DNS 相关信息
nslookup - 查找与 DNS 相关的查询
route - 显示和操作 IP 路由表
host - 执行 DNS 查找
arp - 查看或添加内核的 ARP 表内容
iwconfig - 用于配置无线网络接口
hostname - 标识网络名称
curl / wget - 从互联网下载文件
mtr - 将 ping 和 traceroute 合并到单个命令中
whois - 告知网站的whois？
ifplugstatus - 告知电缆是否插入
```


### 8.Unix Tools ###

```sh
find - 查找特定文件 (输出中不包含路径)
locate - 搜索数据库中的文件 (输出中包含路径)
date - 显示当前日期时间
cal - 显示当前日历
sleep - 休眠
time - 显示执行命令所花费的世界
zcat / zmore - 查看 gzip 压缩文件
bzip2 / bunzip2 - 压缩/解压缩 bzip2 文件
bzcat / bzmore - 查看 bzip2 文件
df - 检查磁盘空间
```


### 9.Editors ###

```
# 1.command模式切换到insert模式
i - 在当前字符左边插入
I - 在当前行左边插入
a - 在当前字符右边插入
A - 在当前行右边插入
o - 在下方开一个空行
O - 在上方开一个空行

# 2.在文件中移动
j - 向下移动
k - 向上移动
h - 向左移动
l - 向右移动

# 3.跳行
G - 引导您到文件的最后一行
`` - 引导您到文件中的最后一个位置？

# 4.删除
x -  删除当前字符
X - 删除当前左边的字符
r - 替换当前字符
xp - 切换两个字符？
dd - 剪切单前行 (包括换行符)
D - 删除 当前字符 到 单前行右边 的字符 (即 删除字符后缀)
dG - 删除 当前行 到 最后一行 (即 删除行后缀)

# 5.撤销和重复
u - 撤销上一命令 (undo)
. - 重复上一命令

# 6.剪切，复制，粘贴
dd - 剪切单前行
YY - 复制当前行
p - 粘贴在当前行下方
P - 粘贴在当前行上方

# 7.剪切、复制多行
<n>dd - 剪切当前行数起的往下n行
<n>yy - 复制当前行数起的往下n行

# 8.行首，行尾
θ - 在当前行的开头引入
^ - 在当前行的开头引入
$ - 在当前行的末尾引入
dθ - 删除直到行首
d$ - 删除直到行尾

# 9.Joining lines
J - 合并两行
yyp - 重复当前行
ddp - 交换两行 (当前行与下一行)

# 10.向前或向后移动
w - 向右移动一个单词
b - 向做移动一个单词
<n>w - 向右移动n个单词
DW - 删除一个单词
YW - 复制一个单词
<n>dw - 删除n个单词

# 11.搜索
/<模式串> - 向 右/前 查找字符串
?<模式串> - 向 左/后 查找字符串
/^<模式串> - 在所有行中匹配每行的前缀，返回第一个匹配的行 (从上往下查找)
/<模式串>$ - 在所有行中匹配每行的后缀，返回第一个匹配的行 (从上往下查找)
n - 查找下一个匹配的字符串
/\<xxx\> - 查找某个单词xxx ( \< 和 \> 代表转义<和< )
/[abcd..] - 支持模糊查找

# 12.替换
:<开始行号>,<末尾行号> s/<旧字符串>/<新字符串>/g

# 13.文件缓冲区
"<缓冲区>dd - 删除当前行，并将其放入<缓冲区>
"<缓冲区>p - 从<缓冲区>中粘贴

# 14.缩写
:ab <缩写> <被缩写的内容> - 添加缩写
:una <缩写> - 解绑缩写
```

### 10.Shell&shell脚本 ###

```sh
type <命令名> - 查看命令所属的类型（内建 或 外部 或 别名 命令）
type -a <命令名> - 查看命令的类型(比type包含更多信息(如命令的路径) )
which <命令名> - 查看命令的路径

; - 执行 ; 分隔的所有命令
& - 以&结尾的命令, 不等待命令完成 (可以用来延时执行命令, 如: sleep 10 && ls &)
$? - 存储上一命令的退出代码, 0表示成功, 1表示失败
&& - 与逻辑, 尝试执行每个命令，直到 某个命令执行失败 或 无命令可执行
|| - 或逻辑, 尝试执行每个命令，直到 某个命令执行成功 或 无命令可执行
&&与||组合 - 用于在命令行中编写 if then else 结构
# - 注释
\ - 转义 或 多行命令


$(<shell命令>) - shell嵌套
`<shell命令>` - 返回<shell命令>的输出（不会在标准输出中出现）

```

```sh title="shell脚本"
# 申明脚本
#!/bin/bash

# {==系统变量==}
$<n> - 表示第n个参数, n >= 1
${<n>} - 同上
$0 - 脚本名
$* - 将所有参数表示为单个字符串
$@ - 与 $∗ 相同，但括在 （“） 中时有所不同 ?
$# - 表示参数总数
$$ - 脚本的 PID
$? - 表示上次返回代码

shift - 删除最后一个参数

# 命令
source ./<脚本> - 将脚本的变量导入内存
. ./<脚本> - 同上
set - 输出所有shell变量 (环境变量 + 系统变量 + 自定义变量)
unset - 删除变量
readonly - 只读变量
env - 显示环境变量
```

```sh title="表达式&运算符"
`expr <操作数>`
$[ <算术表达式> ]
let <变量名>=<算术表达式>

`test <逻辑表达式>`
[ <逻辑表达式> ]

相等、不等于、大于、小于、大于等于、小于等于 - -eq、-ne、-gt、-lt、-ge、-le
等于、不等于 - =、!=
长度为0,、长度非0 - -z、-n
字符串非空 - str
-a - 与运算
-o - 或运算
! - 非运算

文件检测
```

```sh title="控制"
# 控制流
if [ <条件> ]
then
	语句1
elif [ <条件> ]
	语句2
else
	语句3
fi

case 值 in
模式1 )
    语句1
;;
模式2 )
    语句2
;;
esac

whlie [ <条件> ]
do
    语句
done

until [ <条件> ]
do
    语句
done

for 变量 [ in 列表 / 模式串 ]
do
    语句
done

# 
break[<n>]
continue[<n>]
exit[<n>]
```

```sh title="函数"
[ function ] 函数名()
{
    命令序列
    [ return 返回值 ]
}

数组名=(值1 值2 ... 值n)
${ 数组名[ 下标 ] }
${ #数组名[ 下标 ] }
```



### 11.System Admin ###

```
du - disk usage
env
```

### 12.常见命令 ###


```
用户命令:
    - su
    - id
    - useradd
    - passwd
    - groupadd

    - whoami
    - who
    - who am i
    - w
    - id
目录命令:
    - pwd
    - mkdir
    - rmdir
    - ls
    - cd
文件命令:
    - touch
    - cat: 用于打印文件或变量(并创建新文件)；创建空文件(并输入内容)
    - rm
    - cp
    - mv
    - rename: 如 rename 's/<旧名>/<新名称>/' <匹配字符串>

    - head
    - tail
    - tac: 与cat相反, 反序输出文件内容
    - more
    - less
进程命令:
    - top
    - ps
    - pidof

    - killall
    - pkill
    - kill
过滤器命令:
    - cat
    - cut -d<分隔符> -f<列号> <文件名>
    - grep
    - comm: 比较两个文件或流(输出3列: 第一个文件的不匹配行, 第二个文件的不匹配行, 两个文件匹配的行)
    - sed: 又称流编辑器，使用 regex 替换要输出的内容 (sed 's/<模式串>/<替换的串>/')
    - tee: 将要输出的内容写入新文件，再输出此内容
    - tr: 将要输出的某些字符转换为另一些字符，并输出
    - uniq: 排序并去重
    - wc: 计算内容中的行，单词，字符
    - od: 以不同形式(8进制/16进制/ascii)显示文件
    - sort
    - gzip
    - gunzip
    - column
网络命令:
    - 
实用程序命令:
    - find - 在特定目录搜索文件 (find <目录名> -name <模式串>)
    - locate - 在数据库搜索文件 (locate <模式串>)
    - date - 显示日期、时间、时区等
    - cal - 显示当前月份的日历，并突出显示当前日期
    - time - 显示执行命令时间
    - sleep - 睡眠 (s)
    - zcat - 显示压缩文件
    - df - 显示文件系统中使用的磁盘空间。它以已用块数、可用块数和挂载目录的形式显示输出
    - mount - 将外部设备文件系统连接到系统的文件系统
    - exit - 退出当前shell
    - clear - 清空命令行
    - ip - ipconfig的更新版本。用于分配ip地址，初始化接口，禁用接口
    - ssh - 通过ssh协议创建远程连接 (ssh <用户名>@<主机名/IP/域名>)
    - mail - 发送邮件 (mail -s "<主题>"<收件人地址>)
    - ping
    - host - 查询域名的ip地址，反之亦然

```


### 其他 ###

- Regex -
- Man -
- AWK
- Programming
